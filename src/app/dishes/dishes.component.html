<!-- dish section -->
<section class="book_section layout_padding">
  <div class="container">
    <!-- <div class="form-check form-switch">
      <input
          [(ngModel)]="admin"
          class="form-check-input"
          type="checkbox"
          role="switch"
          id="admin"/>
      <label class="form-check-label" for="admin" style="color: white">Admin</label>
  </div> -->

    <table class="table table-hover" style="background-color: rgb(235, 224, 224);" *ngIf="admin">
      <thead>
        <tr>
          <th scope="col">Dish</th>
          <th scope="col">Image</th>
          <th scope="col">Popularity</th>
          <th scope="col">Active</th>
          <th scope="col">Categories</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let dish of dishes">
          <td><input type="text" id="nombrePlato" [(ngModel)]="dish.name"></td>
          <td>
            <div class="mb-3">
              <input class="form-control" id="formFileSm" type="file" style="width: 90%" [(ngModel)]="dish.image">
            </div>
          </td>
          <td>
            <select class="form-select" [(ngModel)]="dish.popularity">
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </td>
          <td>
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked"
                [(ngModel)]="dish.status">
            </div>
          </td>
          <td>
            <select class="form-select" [(ngModel)]="dish.categories"> <!-- potser sha de fer metode per accedir a lapi y que extregui la llista de categorias del plat?-->
              <option *ngFor="let category of categories"></option>
            </select>
          </td>
          <td>
            <div>
              <select class="form-select">
                <option selected="selected">Actions</option>
                <option value="1" (click)="update(dish)">Update</option>
                <option value="2" (click)="delete(dish.id)">Delete</option>
              </select>
            </div>
          </td>
        </tr>
        <tr *ngIf="addDish">
          <td><input type="text" id="nombrePlato" [(ngModel)]="newDish.name"></td>
          <td>
            <div class="mb-3">
              <input class="form-control" id="formFileSm" type="file" style="width: 90%">
            </div>
          </td>
          <td>
            <select class="form-select" [(ngModel)]="newDish.popularity">
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </td>
          <td>
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked"
                [(ngModel)]="newDish.status">
            </div>
          </td>
          <td>
            <select class="form-select" [(ngModel)]="categories"> <!-- accedir a la taula categories per veure les disponibles i que tingui alguna clase de check per marcar quines te -->
              <option *ngFor="let category of categories"></option>
            </select>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="form_container">
      <div *ngIf="addDish">
        <button (click)="save()">
          Save New Dish
        </button>
        <br>
        <button (click)="cancel()">
          Cancel
        </button>
      </div>
      <button (click)="add()" *ngIf="!addDish">
        New Dish
      </button>
    </div>
  </div>

</section>
<!-- end dish section -->
